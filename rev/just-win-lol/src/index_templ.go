// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.663
package main

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import "context"
import "io"
import "bytes"
import "strings"

import (
	"fmt"
	"slices"
)

func cardPos(idx int, num string, suit string) templ.CSSClass {
	var templ_7745c5c3_CSSBuilder strings.Builder
	templ_7745c5c3_CSSBuilder.WriteString(string(templ.SanitizeCSS(`background-position`, fmt.Sprintf("-%dpx -%dpx", slices.Index(cards, num)*142, slices.Index(suits, suit)*190))))
	templ_7745c5c3_CSSID := templ.CSSID(`cardPos`, templ_7745c5c3_CSSBuilder.String())
	return templ.ComponentCSSClass{
		ID:    templ_7745c5c3_CSSID,
		Class: templ.SafeCSS(`.` + templ_7745c5c3_CSSID + `{` + templ_7745c5c3_CSSBuilder.String() + `}`),
	}
}

func indexComponent() templ.Component {
	return templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
		if !templ_7745c5c3_IsBuffer {
			templ_7745c5c3_Buffer = templ.GetBuffer()
			defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<!doctype html><html><head><script src=\"https://unpkg.com/htmx.org@1.9.12\" integrity=\"sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2\" crossorigin=\"anonymous\"></script><script>\n\t\t\t\tdocument.addEventListener('htmx:afterRequest', function(evt) {\n\t\t\t\t\tlet cards = document.querySelectorAll(\".card\");\n\t\t\t\t\tcards.forEach((card, idx) => {\n\t\t\t\t\t\tcard.style.setProperty(\"--rotateZ\", (idx-cards.length/2) + \"deg\")\n\t\t\t\t\t\tcard.addEventListener(\"mousemove\", (event) => {\n\t\t\t\t\t\t\tconst clampDeg = 15;\n\t\t\t\t\t\t\tvar elemMidX = event.currentTarget.offsetWidth / 2;\n\t\t\t\t\t\t\tvar elemMidY = event.currentTarget.offsetHeight / 2;\n\t\t\t\t\t\t\tvar x = ((event.offsetX - elemMidX) / elemMidX) * clampDeg;\n\t\t\t\t\t\t\tvar y = -1 * (((event.offsetY - elemMidY) / elemMidY) * clampDeg);\n\t\t\t\t\t\n\t\t\t\t\t\t\tcard.style.setProperty(\"--rotateX\", y + \"deg\");\n\t\t\t\t\t\t\tcard.style.setProperty(\"--rotateY\", x + \"deg\");\n\t\t\t\t\t\t\tcard.style.setProperty(\"--scale\", \"1.1\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcard.addEventListener(\"mouseleave\", (event) => {\n\t\t\t\t\t\t\tcard.style.setProperty(\"--rotateX\", \"0deg\");\n\t\t\t\t\t\t\tcard.style.setProperty(\"--rotateY\", \"0deg\");\n\t\t\t\t\t\t\tcard.style.setProperty(\"--scale\", \"1\");\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script><style>\n\t\t\t\tbody {\n    \t\t\t\tbackground-size: cover;\n    \t\t\t\tbackground-position: center top;   \n\t\t\t\t\tbackground-image: url(\"/static/balatrobg.jpg\");\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t}\n\t\t\t\t.wrapper {\n\t\t\t\t\twidth: 100vw;\n\t\t\t\t\theight: 100vh;\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tplace-items: center;\n\t\t\t\t}\n\t\t\t\t.card {\n\t\t\t\t\t--rotateX: 0deg;\n\t\t\t\t\t--rotateY: 0deg;\n\t\t\t\t\t--rotateZ: 0deg;\n\t\t\t\t\t--scale: 1;\n\t\t\t\t\t/* use manually nearest neighbor scaled image instead of transform: scale otherwise we\n\t\t\t\t\tget blurry images when the 3d transform is applied even with image-rendering: pixelated */\n\t\t\t\t\tbackground-image: url(\"/static/balatrocards-2x.png\");\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\twidth: 142px;\n\t\t\t\t\theight: 190px;\n\t\t\t\t\ttransform: \n\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\trotateZ(var(--rotateZ))\n\t\t\t\t\t\tscale(var(--scale));\n\t\t\t\t\ttransform-style: preserve-3d;\n\t\t\t\t\ttransition: all 0.1s ease-out;\n\t\t\t\t\ttransition: scale 0.4s linear;\n\t\t\t\t\ttransition: rotateZ 0.4s linear;\n\t\t\t\t\tmargin: -20px;\n\t\t\t\t\timage-rendering: pixelated;\n\t\t\t\t\timage-rendering: -moz-crisp-edges;\n\t\t\t\t\timage-rendering: crisp-edges;\n\t\t\t\t\t/* trigger antialiasing for 3d transforms - https://stackoverflow.com/a/27065674 */\n\t\t\t\t\toutline: 1px solid transparent;\n\t\t\t\t\tbox-shadow: 0 0 30px red;\n\t\t\t\t}\n\t\t\t\t.card:hover {\n\t\t\t\t\tanimation: wiggle 0.4s linear 1;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t}\n\n\t\t\t\t/* from https://easings.net/#easeInElastic which roughly\n\t\t\t\tapproximates Balatro's Moveable:move_juice() eyeballing it on wolframalpha's plot\n\t\t\t\twhen reversed and the last keyframe is set to 1\n\t\t\t\tmove_juice() is\n\t\t\t\t0.02 * sin(50.8*t) * max(0, 0.4 - t/ 0.4)^3 for scale and\n\t\t\t\t0.0012 * sin(40.8*t) * max(0, 0.4 - t/ 0.4)^2 for rotation\n\t\t\t\t*/\n\t\t\t\t@keyframes wiggle {\n\t\t\t\t\t0% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(var(--rotateZ))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 1));\n\n\t\t\t\t\t}\n\t\t\t\t\t4% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(calc(var(--rotateZ) - 6deg))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 1.37));\n\t\t\t\t\t}\n\t\t\t\t\t8% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(calc(var(--rotateZ) + 4deg))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 0.87));\n\t\t\t\t\t}\n\t\t\t\t\t14% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(calc(var(--rotateZ) - 3deg))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 1.04));\n\t\t\t\t\t}\n\t\t\t\t\t18% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(calc(var(--rotateZ) + 2deg))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 1.05));\n\t\t\t\t\t}\n\t\t\t\t\t26%, 28% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(calc(var(--rotateZ) - 1deg))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 0.98));\n\t\t\t\t\t}\n\t\t\t\t\t40%, 42% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(calc(var(--rotateZ) - 1deg))\n\t\t\t\t\t\t\tscale(calc(var(--scale) * 1.01));\n\t\t\t\t\t}\n\t\t\t\t\t56%, 58%, 72%, 86%, 100% {\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tperspective(5000px)\n\t\t\t\t\t\t\trotateX(var(--rotateX))\n\t\t\t\t\t\t\trotateY(var(--rotateY))\n\t\t\t\t\t\t\trotateZ(var(--rotateZ))\n\t\t\t\t\t\t\tscale(var(--scale));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/* from https://codepen.io/meduzen/pen/zxbwRV */\n\t\t\t\t.scanlines {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t\t.scanlines:before, .scanlines:after {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t\tcontent: \"\";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t}\n\t\t\t\t.scanlines:before {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 2px;\n\t\t\t\t\tz-index: 2147483649;\n\t\t\t\t\tbackground: rgba(0, 0, 0, 0.3);\n\t\t\t\t\topacity: 0.3;\n\t\t\t\t}\n\t\t\t\t.scanlines:after {\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tz-index: 2147483648;\n\t\t\t\t\tbackground: linear-gradient(to bottom, transparent 50%, rgba(100, 100, 100, 0.1) 51%);\n\t\t\t\t\tbackground-size: 100% 4px;\n\t\t\t\t}\n\n\t\t\t\t/* from https://pixelcorners.lukeb.co.uk/?radius=5&multiplier=3&border=1&border_width=1&border_color=#cacfd0 */\n\t\t\t\t.pixel-corners,\n\t\t\t\t.pixel-corners--wrapper {\n\t\t\t\tclip-path: polygon(0px calc(100% - 9px),\n\t\t\t\t\t3px calc(100% - 9px),\n\t\t\t\t\t3px calc(100% - 6px),\n\t\t\t\t\t6px calc(100% - 3px),\n\t\t\t\t\t9px calc(100% - 3px),\n\t\t\t\t\t9px 100%,\n\t\t\t\t\tcalc(100% - 9px) 100%,\n\t\t\t\t\tcalc(100% - 9px) calc(100% - 3px),\n\t\t\t\t\tcalc(100% - 6px) calc(100% - 3px),\n\t\t\t\t\tcalc(100% - 3px) calc(100% - 6px),\n\t\t\t\t\tcalc(100% - 3px) calc(100% - 9px),\n\t\t\t\t\t100% calc(100% - 9px),\n\t\t\t\t\t100% 9px,\n\t\t\t\t\tcalc(100% - 3px) 9px,\n\t\t\t\t\tcalc(100% - 3px) 6px,\n\t\t\t\t\tcalc(100% - 6px) 3px,\n\t\t\t\t\tcalc(100% - 9px) 3px,\n\t\t\t\t\tcalc(100% - 9px) 0px,\n\t\t\t\t\t9px 0px,\n\t\t\t\t\t9px 3px,\n\t\t\t\t\t6px 3px,\n\t\t\t\t\t3px 6px,\n\t\t\t\t\t3px 9px,\n\t\t\t\t\t0px 9px);\n\t\t\t\tposition: relative;\n\t\t\t\t}\n\t\t\t\t.pixel-corners {\n\t\t\t\tborder: 3px solid transparent;\n\t\t\t\t}\n\t\t\t\t.pixel-corners--wrapper {\n\t\t\t\twidth: fit-content;\n\t\t\t\theight: fit-content;\n\t\t\t\t}\n\t\t\t\t.pixel-corners--wrapper .pixel-corners {\n\t\t\t\tdisplay: block;\n\t\t\t\tclip-path: polygon(3px 9px,\n\t\t\t\t\t6px 9px,\n\t\t\t\t\t6px 6px,\n\t\t\t\t\t9px 6px,\n\t\t\t\t\t9px 3px,\n\t\t\t\t\tcalc(100% - 9px) 3px,\n\t\t\t\t\tcalc(100% - 9px) 6px,\n\t\t\t\t\tcalc(100% - 6px) 6px,\n\t\t\t\t\tcalc(100% - 6px) 9px,\n\t\t\t\t\tcalc(100% - 3px) 9px,\n\t\t\t\t\tcalc(100% - 3px) calc(100% - 9px),\n\t\t\t\t\tcalc(100% - 6px) calc(100% - 9px),\n\t\t\t\t\tcalc(100% - 6px) calc(100% - 6px),\n\t\t\t\t\tcalc(100% - 9px) calc(100% - 6px),\n\t\t\t\t\tcalc(100% - 9px) calc(100% - 3px),\n\t\t\t\t\t9px calc(100% - 3px),\n\t\t\t\t\t9px calc(100% - 6px),\n\t\t\t\t\t6px calc(100% - 6px),\n\t\t\t\t\t6px calc(100% - 9px),\n\t\t\t\t\t3px calc(100% - 9px));\n\t\t\t\t}\n\t\t\t\t.pixel-corners::after,\n\t\t\t\t.pixel-corners--wrapper::after {\n\t\t\t\tcontent: \"\";\n\t\t\t\tposition: absolute;\n\t\t\t\tclip-path: polygon(0px calc(100% - 9px),\n\t\t\t\t\t3px calc(100% - 9px),\n\t\t\t\t\t3px calc(100% - 6px),\n\t\t\t\t\t6px calc(100% - 3px),\n\t\t\t\t\t9px calc(100% - 3px),\n\t\t\t\t\t9px 100%,\n\t\t\t\t\tcalc(100% - 9px) 100%,\n\t\t\t\t\tcalc(100% - 9px) calc(100% - 3px),\n\t\t\t\t\tcalc(100% - 6px) calc(100% - 3px),\n\t\t\t\t\tcalc(100% - 3px) calc(100% - 6px),\n\t\t\t\t\tcalc(100% - 3px) calc(100% - 9px),\n\t\t\t\t\t100% calc(100% - 9px),\n\t\t\t\t\t100% 9px,\n\t\t\t\t\tcalc(100% - 3px) 9px,\n\t\t\t\t\tcalc(100% - 3px) 6px,\n\t\t\t\t\tcalc(100% - 6px) 3px,\n\t\t\t\t\tcalc(100% - 9px) 3px,\n\t\t\t\t\tcalc(100% - 9px) 0px,\n\t\t\t\t\t9px 0px,\n\t\t\t\t\t9px 3px,\n\t\t\t\t\t6px 3px,\n\t\t\t\t\t3px 6px,\n\t\t\t\t\t3px 9px,\n\t\t\t\t\t0px 9px,\n\t\t\t\t\t0px 50%,\n\t\t\t\t\t3px 50%,\n\t\t\t\t\t3px 9px,\n\t\t\t\t\t6px 9px,\n\t\t\t\t\t6px 6px,\n\t\t\t\t\t9px 6px,\n\t\t\t\t\t9px 3px,\n\t\t\t\t\tcalc(100% - 9px) 3px,\n\t\t\t\t\tcalc(100% - 9px) 6px,\n\t\t\t\t\tcalc(100% - 6px) 6px,\n\t\t\t\t\tcalc(100% - 6px) 9px,\n\t\t\t\t\tcalc(100% - 3px) 9px,\n\t\t\t\t\tcalc(100% - 3px) calc(100% - 9px),\n\t\t\t\t\tcalc(100% - 6px) calc(100% - 9px),\n\t\t\t\t\tcalc(100% - 6px) calc(100% - 6px),\n\t\t\t\t\tcalc(100% - 9px) calc(100% - 6px),\n\t\t\t\t\tcalc(100% - 9px) calc(100% - 3px),\n\t\t\t\t\t9px calc(100% - 3px),\n\t\t\t\t\t9px calc(100% - 6px),\n\t\t\t\t\t6px calc(100% - 6px),\n\t\t\t\t\t6px calc(100% - 9px),\n\t\t\t\t\t3px calc(100% - 9px),\n\t\t\t\t\t3px 50%,\n\t\t\t\t\t0px 50%);\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbackground: #cacfd0;\n\t\t\t\tdisplay: block;\n\t\t\t\tpointer-events: none;\n\t\t\t\t}\n\t\t\t\t.pixel-corners::after {\n\t\t\t\tmargin: -3px;\n\t\t\t\t}\n\t\t\t</style></head><body class=\"scanlines\"><div class=\"wrapper\"><div class=\"hand\"></div><button hx-get=\"/hand\" hx-trigger=\"click\" hx-target=\".hand\" hx-swap=\"innerHTML\">get hand</button></div></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if !templ_7745c5c3_IsBuffer {
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteTo(templ_7745c5c3_W)
		}
		return templ_7745c5c3_Err
	})
}

func handComponent(hand []string) templ.Component {
	return templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
		if !templ_7745c5c3_IsBuffer {
			templ_7745c5c3_Buffer = templ.GetBuffer()
			defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		for idx, card := range hand {
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(" ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 = []any{"card", "pixel-corners", cardPos(idx, card, "c")}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var3...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<div class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var3).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `index.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\"></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		if !templ_7745c5c3_IsBuffer {
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteTo(templ_7745c5c3_W)
		}
		return templ_7745c5c3_Err
	})
}
